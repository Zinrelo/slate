<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>ShopSocially - API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
    <link href="images/favicon.png" rel="icon" type="image/png" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;python&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">Shell</a>
              <a href="#" data-language-name="python">Python</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://shopsocially.com' target="_blank">ShopSocially Home Page</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="overview">Overview</h1>

<p>Welcome to the ShopSocially API documentation. You can use this API to access all our API endpoints, such as the <strong>Loyalty API</strong>, to build a common rewards program for all your sales channels.</p>

<p>We have language bindings in Shell and Python! You can view code examples in the area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>

<h1 id="authentication">Authentication</h1>

<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'partner-id'</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">your</span><span class="o">-</span><span class="n">partner</span><span class="o">-</span><span class="nb">id</span><span class="o">&gt;</span><span class="p">,</span> 
           <span class="s">'api-key'</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">your</span><span class="o">-</span><span class="n">api</span><span class="o">-</span><span class="n">key</span><span class="o">&gt;</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.shopsocially.com/v2/loyalty/transactions"</span><span class="p">,</span>
                        <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>
</code></pre>
<pre class="highlight shell"><code>curl -H <span class="s2">"partner-id: &lt;your-partner-id&gt;"</span> 
     -H <span class="s2">"api-key: &lt;your-api-key&gt;"</span> 
     <span class="s2">"https://api.shopsocially.com/v2/loyalty/transactions"</span>
</code></pre>

<p>The ShopSocially API exports sensitive data, so any call to the ShopSocially API needs to be authenticated. </p>

<p>For authenticating an API call, you have to send your <strong>Partner ID</strong>, and an <strong>API Key</strong> in the HTTP header of each API request.</p>

<p>To access <strong>Partner ID</strong>, and the <strong>API Key</strong>, please follow the steps given below:</p>

<ul>
<li>Login to your Merchant Center Console.</li>
<li>Navigate to <strong>Basic Settings &gt; General Information</strong>, to find your <strong>Partner ID</strong>, and <strong>API Key</strong>. </li>
</ul>

<p><img alt="alt text" src="images/settings.png" /></p>

<aside class="notice">
If you don&rsquo;t see the API Key on your dashboard, please write to support@shopsocially.com
</aside>

<ul>
<li>Send the keys in the HTTP header of each API request as given below :</li>
</ul>

<p><code class="prettyprint">&#39;api-key&#39;: &#39;&lt;your-api-key&#39;</code></p>

<p><code class="prettyprint">&#39;partner-id&#39; : &#39;&lt;your-partner-id&gt;&#39;</code></p>

<h1 id="loyalty-api">Loyalty API</h1>

<p>The Loyalty API enables you to extend the loyalty program beyond your website.</p>

<h2 id="points">Points</h2>

<p>The Points API lets you award, redeem and deduct points from a user&rsquo;s account.</p>

<h3 id="award">Award</h3>
<pre class="highlight shell"><code>curl -X POST --header <span class="s2">"partner-id: &lt;your-partner-id&gt;"</span> 
--header <span class="s2">"api-key: &lt;your-api-key&gt;"</span> 
--data <span class="s2">"user_email= &lt;User’s email ID&gt;"</span> 
--data <span class="s2">"points_passed = &lt;number of points to be awarded&gt;"</span> 
--data <span class="s2">"activity_id= &lt;activity ID&gt;"</span>
<span class="s2">"https://api.shopsocially.com/v2/loyalty/award"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'partner-id'</span><span class="p">:</span> <span class="s">'9c62d683db96c7cabf8db0109be6bb'</span><span class="p">,</span> 
           <span class="s">'api-key'</span><span class="p">:</span> <span class="s">'9a4cf9131sasaw21dsb53a29e1b13'</span><span class="p">}</span>

<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"user_email"</span><span class="p">:</span> <span class="s">"bob@shopsocially.com"</span><span class="p">,</span>
                      <span class="s">"points_passed"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
                      <span class="s">"activity_id"</span><span class="p">:</span> <span class="s">"made_a_purchase"</span><span class="p">})</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.shopsocially.com/v2/loyalty/award"</span><span class="p">,</span>
                        <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">payload</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6176be2d5e"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"user_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bob@shopsocially.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"user_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Baker"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"user_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bob"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"activity_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"made_a_purchase"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"activity_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Made a Purchase"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54aeb7b4f283c6176be2d5ed"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"transaction_type"</span><span class="p">:</span><span class="s2">"award"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"points"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
          </span><span class="nt">"points_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auto_approved"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"partner_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69c62d683db96c7cabf8db0109be6bb1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"created_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30-Mar-16 19:20:22"</span><span class="w">
        </span><span class="p">},</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Award points to a user for any activity. 
Points will be awarded based on the user&rsquo;s email address.</p>

<p><strong>HTTP Request</strong></p>

<p><code class="prettyprint">POST  https://api.shopsocially.com/v2/loyalty/award</code></p>

<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_email</td>
<td>string</td>
<td>Yes</td>
<td>The email of the user to whom points have to be awarded.</td>
</tr>
<tr>
<td>points_passed</td>
<td>integer</td>
<td>No (if activity type is fixed) Yes (if activity type is bonus multiplier)</td>
<td>If the activity is configured to award fixed number of points, the points passed will override the value set in the configuration. If the activity is configured to use a multiplier to award points, this becomes a mandatory parameter as the points cannot be awarded without the base value.</td>
</tr>
<tr>
<td>activity_id</td>
<td>string</td>
<td>Yes</td>
<td>The activity for which points needs to be awarded. The activity ID is available in the merchant center in the activity configuration.</td>
</tr>
<tr>
<td>order_id</td>
<td>string</td>
<td>No</td>
<td>When points are being awarded for purchase activity, it is recommended to pass order ID of the purchase transaction .This ensures that points for a particular transaction are awarded only once.</td>
</tr>
</tbody></table>

<p><strong>Response Body</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>string</td>
<td>Unique id generated for each user</td>
</tr>
<tr>
<td>user_email</td>
<td>string</td>
<td>The person’s email address</td>
</tr>
<tr>
<td>user_last_name</td>
<td>string</td>
<td>The person’s last name</td>
</tr>
<tr>
<td>user_first_name</td>
<td>string</td>
<td>The person’s first name</td>
</tr>
<tr>
<td>activity_id</td>
<td>string</td>
<td>The id of the activity for which the points were awarded</td>
</tr>
<tr>
<td>activity_name</td>
<td>string</td>
<td>The name of the activity for which the points were awarded</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Internal id</td>
</tr>
<tr>
<td>transaction_type</td>
<td>string</td>
<td>This will always be &ldquo;award&rdquo;</td>
</tr>
<tr>
<td>points</td>
<td>integer</td>
<td>The number of points awarded</td>
</tr>
<tr>
<td>points_status</td>
<td>string</td>
<td>The status of the award transaction</td>
</tr>
<tr>
<td>partner_id</td>
<td>string</td>
<td>The id of the merchant</td>
</tr>
<tr>
<td>created_time</td>
<td>string</td>
<td>The time when the record was created</td>
</tr>
</tbody></table>

<h3 id="redeem">Redeem</h3>
<pre class="highlight shell"><code>curl -X POST --header <span class="s2">"partner-id: &lt;your-partner-id&gt;"</span> 
--header <span class="s2">"api-key: &lt;your-api-key&gt;"</span> 
--data <span class="s2">"user_email= &lt;User’s email ID&gt;"</span> 
--data <span class="s2">"redemption_id= &lt;redemption ID&gt;"</span>
<span class="s2">"https://api.shopsocially.com/v2/loyalty/redeem"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'partner-id'</span><span class="p">:</span> <span class="s">'9c62d683db96c7cabf8db0109be6bb'</span><span class="p">,</span> 
           <span class="s">'api-key'</span><span class="p">:</span> <span class="s">'9a4cf9131sasaw21dsb53a29e1b13'</span><span class="p">}</span>

<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"user_email"</span><span class="p">:</span> <span class="s">"bob@shopsocially.com"</span><span class="p">,</span>
                      <span class="s">"redemption_id"</span><span class="p">:</span> <span class="s">"$50_gift_card"</span><span class="p">})</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.shopsocially.com/v2/loyalty/redeem"</span><span class="p">,</span>
                        <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">payload</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6176be2d5e"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"user_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bob@shopsocially.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"user_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Baker"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"user_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bob"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"redemption_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$50_gift_card"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"redemption_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$50 Gift Card"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"redemption_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$50"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54aeb7b4f283c6176be2d5ed"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"transaction_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redeem"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"points"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
          </span><span class="nt">"points_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redeemed"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"coupon_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET50OFF"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"partner_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9c62d683db96c7cabf8db0109be6bb"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"created_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30-Mar-15 19:20:22"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Redeem points for a user. 
Based on the redemption option chosen, points will be deducted from the user&rsquo;s account and a coupon code will be returned in the response.</p>

<p><strong>HTTP Request</strong></p>

<p><code class="prettyprint">POST  https://api.shopsocially.com/v2/loyalty/redeem</code></p>

<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_email</td>
<td>string</td>
<td>Yes</td>
<td>The email of the user who wishes to redeem the points.</td>
</tr>
<tr>
<td>redemption_id</td>
<td>string</td>
<td>Yes</td>
<td>The ID of the desired redemption option. The redemption ID is available in the merchant center.</td>
</tr>
</tbody></table>

<p><strong>Response Body</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>string</td>
<td>Unique id generated for each user</td>
</tr>
<tr>
<td>user_email</td>
<td>string</td>
<td>The person’s email address</td>
</tr>
<tr>
<td>user_last_name</td>
<td>string</td>
<td>The person’s last name</td>
</tr>
<tr>
<td>user_first_name</td>
<td>string</td>
<td>The person’s first name</td>
</tr>
<tr>
<td>redemption_id</td>
<td>string</td>
<td>The id of the redemption option chosen</td>
</tr>
<tr>
<td>redemption_name</td>
<td>string</td>
<td>The name of the redemption chosen option</td>
</tr>
<tr>
<td>redemption_value</td>
<td>string</td>
<td>The amount of the redemption option chosen (in dollars)</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Internal id</td>
</tr>
<tr>
<td>transaction_type</td>
<td>string</td>
<td>This will always be &ldquo;redeem&rdquo;</td>
</tr>
<tr>
<td>points</td>
<td>integer</td>
<td>The number of points redeemed</td>
</tr>
<tr>
<td>points_status</td>
<td>string</td>
<td>This will always be &ldquo;redeemed&rdquo;</td>
</tr>
<tr>
<td>coupon_code</td>
<td>string</td>
<td>The coupon code to be used for successive transactions</td>
</tr>
<tr>
<td>partner_id</td>
<td>string</td>
<td>The id of the merchant</td>
</tr>
<tr>
<td>created_time</td>
<td>string</td>
<td>The time when the record was created</td>
</tr>
</tbody></table>

<h3 id="deduct">Deduct</h3>
<pre class="highlight shell"><code>curl -X POST --header <span class="s2">"partner-id: &lt;your-partner-id&gt;"</span> 
--header <span class="s2">"api-key: &lt;your-api-key&gt;"</span> 
--data <span class="s2">"user_email= &lt;User’s email ID&gt;"</span> 
--data <span class="s2">"reason= &lt;reason&gt;"</span>
--data <span class="s2">"points_passed= &lt;points_passed&gt;"</span>
<span class="s2">"https://api.shopsocially.com/v2/loyalty/deduct"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'partner-id'</span><span class="p">:</span> <span class="s">'9c62d683db96c7cabf8db0109be6bb'</span><span class="p">,</span> 
           <span class="s">'api-key'</span><span class="p">:</span> <span class="s">'9a4cf9131sasaw21dsb53a29e1b13'</span><span class="p">}</span>

<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"user_email"</span><span class="p">:</span> <span class="s">"bob@shopsocially.com"</span><span class="p">,</span>
                      <span class="s">"reason"</span><span class="p">:</span> <span class="s">"invalid transaction"</span><span class="p">,</span>
                      <span class="s">"points_passed"</span><span class="p">:</span> <span class="mi">1000</span><span class="p">})</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.shopsocially.com/v2/loyalty/deduct"</span><span class="p">,</span>
                        <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">payload</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6176be2d5e"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"user_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bob@shopsocially.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"user_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Baker"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"user_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bob"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54aeb7b4f283c6176be2d5ed"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"transaction_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deduct"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"points"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
          </span><span class="nt">"points_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deducted"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"available_points"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
          </span><span class="nt">"partner_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9c62d683db96c7cabf8db0109be6bb"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"created_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30-Mar-15 19:20:22"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deduct points from a user’s available points. This deduction may not be related to redemption.</p>

<p><strong>HTTP Request</strong></p>

<p><code class="prettyprint">POST  https://api.shopsocially.com/v2/loyalty/deduct</code></p>

<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_email</td>
<td>string</td>
<td>Yes</td>
<td>The email of the user whose points are to be deducted.</td>
</tr>
<tr>
<td>reason</td>
<td>string</td>
<td>Yes</td>
<td>The reason for deduction.</td>
</tr>
<tr>
<td>points_passed</td>
<td>string</td>
<td>Yes</td>
<td>The number of points to be deducted.</td>
</tr>
</tbody></table>

<p><strong>Response Body</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>string</td>
<td>Unique id generated for each user</td>
</tr>
<tr>
<td>user_email</td>
<td>string</td>
<td>The person’s email address</td>
</tr>
<tr>
<td>user_last_name</td>
<td>string</td>
<td>The person’s last name</td>
</tr>
<tr>
<td>user_first_name</td>
<td>string</td>
<td>The person’s first name</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Internal id</td>
</tr>
<tr>
<td>transaction_type</td>
<td>string</td>
<td>This will always be &ldquo;deduct&rdquo;</td>
</tr>
<tr>
<td>points</td>
<td>integer</td>
<td>The number of points deducted</td>
</tr>
<tr>
<td>points_status</td>
<td>string</td>
<td>This will always be &ldquo;deducted&rdquo;</td>
</tr>
<tr>
<td>available_points</td>
<td>integer</td>
<td>The points available to the user after deduction</td>
</tr>
<tr>
<td>partner_id</td>
<td>string</td>
<td>The id of the merchant</td>
</tr>
<tr>
<td>created_time</td>
<td>string</td>
<td>The time when the record was created</td>
</tr>
</tbody></table>

<h2 id="transactions">Transactions</h2>

<p>The Transactions API lets you fetch all or a single loyalty transaction.</p>

<h3 id="get-all-transactions">Get all transactions</h3>
<pre class="highlight shell"><code>curl -X GET --header <span class="s2">"partner-id: &lt;your-partner-id&gt;"</span> 
--header <span class="s2">"api-key: &lt;your-api-key&gt;"</span> 
--data <span class="s2">"from_date= &lt;The start date&gt;"</span> 
--data <span class="s2">"to_date = &lt;The end date&gt;"</span> 
--data <span class="s2">"points_status= &lt;transaction status&gt;"</span>
--data <span class="s2">"start_index= &lt;index from where data needs to be fetched&gt;"</span>
<span class="s2">"https://api.shopsocially.com/v2/loyalty/transactions"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'partner-id'</span><span class="p">:</span> <span class="s">'9c62d683db96c7cabf8db0109be6bb'</span><span class="p">,</span> 
           <span class="s">'api-key'</span><span class="p">:</span> <span class="s">'9a4cf9131sasaw21dsb53a29e1b13'</span><span class="p">}</span>

<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"from_date"</span><span class="p">:</span> <span class="s">"01/01/2015"</span><span class="p">,</span>
                      <span class="s">"to_date"</span><span class="p">:</span> <span class="s">"11/23/2015"</span><span class="p">,</span>  
                      <span class="s">"points_status"</span><span class="p">:</span> <span class="s">'["approved","auto_approved"]'</span><span class="p">,</span>
                      <span class="s">"start_index"</span><span class="p">:</span> <span class="mi">7</span><span class="p">})</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.shopsocially.com/v2/loyalty/transactions"</span><span class="p">,</span>
                        <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span> <span class="n">params</span> <span class="o">=</span> <span class="n">payload</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w">
          </span><span class="nt">"next_start_index"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="w">
          </span><span class="nt">"transactions"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
            </span><span class="nt">"activity_id"</span><span class="p">:</span><span class="s2">"Made_a_Purchase"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"activity_name"</span><span class="p">:</span><span class="s2">"Made a Purchase"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"user_id"</span><span class="p">:</span><span class="s2">"6176be2d5e"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"user_first_name"</span><span class="p">:</span><span class="s2">"Bob"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"user_last_name"</span><span class="p">:</span><span class="s2">"Baker"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"user_email"</span><span class="p">:</span><span class="s2">"bob@shopsocially.com"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"redemption_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"redemption_name"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"550ff099fa0eaa0767086968"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"approved_time"</span><span class="p">:</span><span class="s2">"20-Mar-15 19:20:22"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"auto_approval_date"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"points_status"</span><span class="p">:</span><span class="s2">"approved"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"transaction_type"</span><span class="p">:</span><span class="s2">"award"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"coupon_code"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"points"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
            </span><span class="nt">"approved_by"</span><span class="p">:</span><span class="s2">"Jai"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"created_time"</span><span class="p">:</span><span class="s2">"20-Mar-15 19:20:22"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"updated_time"</span><span class="p">:</span><span class="s2">"30-Mar-15 19:20:22"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"merchant_id"</span><span class="p">:</span><span class="s2">"9c62d683db96c7cabf8db0109be6bb"</span><span class="w">
            </span><span class="p">},</span><span class="w"> 
            </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nt">"more"</span><span class="p">:</span><span class="kc">true</span><span class="w">
         </span><span class="p">},</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Fetch list of all transactions in the given period</p>

<p><strong>HTTP Request</strong></p>

<p><code class="prettyprint">GET  https://api.shopsocially.com/v2/loyalty/transactions</code></p>

<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>from_date</td>
<td>string</td>
<td>Yes</td>
<td>The start date (format is MM/DD/YYYY)</td>
</tr>
<tr>
<td>to_date</td>
<td>string</td>
<td>Yes</td>
<td>The end date (format is MM/DD/YYYY)</td>
</tr>
<tr>
<td>points_status</td>
<td>list of strings</td>
<td>No</td>
<td>The status of the transaction (pending/approved/auto_approved/<br>auto_rejected/rejected/<br>pending/exhausted/expired)</td>
</tr>
<tr>
<td>start_index</td>
<td>integer</td>
<td>No</td>
<td>The index from where data needs to be fetched (defaults to 0)</td>
</tr>
</tbody></table>

<p><strong>Response Body</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>total</td>
<td>integer</td>
<td>total number of transactions</td>
</tr>
<tr>
<td>next_start_index</td>
<td>integer</td>
<td>starting index of next batch of transactions</td>
</tr>
<tr>
<td>transactions</td>
<td>list</td>
<td>list of transactions</td>
</tr>
<tr>
<td>activity_id</td>
<td>string</td>
<td>Unique id for an activity</td>
</tr>
<tr>
<td>activity_name</td>
<td>string</td>
<td>Name of the activity</td>
</tr>
<tr>
<td>user_id</td>
<td>string</td>
<td>Unique id generated for each user</td>
</tr>
<tr>
<td>user_first_name</td>
<td>string</td>
<td>The person’s first name</td>
</tr>
<tr>
<td>user_last_name</td>
<td>string</td>
<td>The person’s last name</td>
</tr>
<tr>
<td>user_email</td>
<td>string</td>
<td>The person’s email address</td>
</tr>
<tr>
<td>redemption_id</td>
<td>string</td>
<td>Unique id for an redemption</td>
</tr>
<tr>
<td>redemption_name</td>
<td>string</td>
<td>Name of the redemption</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Internal id</td>
</tr>
<tr>
<td>approved_time</td>
<td>string</td>
<td>The time when transaction was approved</td>
</tr>
<tr>
<td>auto_approval_date</td>
<td>string</td>
<td>The time when transaction was auto approved</td>
</tr>
<tr>
<td>points_status</td>
<td>string</td>
<td>Status of transaction (approved,auto_approved,exhausted,<br>pending,rejected,auto_rejected,expired)</td>
</tr>
<tr>
<td>transaction_type</td>
<td>string</td>
<td>Type of transaction (award,deduct,redeem)</td>
</tr>
<tr>
<td>coupon_code</td>
<td>string</td>
<td>Coupon code used in the transaction</td>
</tr>
<tr>
<td>points</td>
<td>integer</td>
<td>The number of points involved in transaction</td>
</tr>
<tr>
<td>approved_by</td>
<td>string</td>
<td>Name of admin who approved the transaction</td>
</tr>
<tr>
<td>created_time</td>
<td>string</td>
<td>The time when the transaction was created</td>
</tr>
<tr>
<td>updated_time</td>
<td>string</td>
<td>The time when the transaction was updated</td>
</tr>
<tr>
<td>merchant_id</td>
<td>string</td>
<td>The id of the merchant</td>
</tr>
</tbody></table>

<h3 id="get-transaction">Get Transaction</h3>
<pre class="highlight shell"><code>curl -X GET --header <span class="s2">"partner-id: &lt;your-partner-id&gt;"</span> 
--header <span class="s2">"api-key: &lt;your-api-key&gt;"</span> 
<span class="s2">"https://api.shopsocially.com/v2/loyalty/transactions/{transaction_id}"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'partner-id'</span><span class="p">:</span> <span class="s">'9c62d683db96c7cabf8db0109be6bb'</span><span class="p">,</span> 
           <span class="s">'api-key'</span><span class="p">:</span> <span class="s">'9a4cf9131sasaw21dsb53a29e1b13'</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.shopsocially.com/v2/loyalty/transactions/550ff099fa0eaa0767086968"</span><span class="p">,</span>
                        <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
</span><span class="nt">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="nt">"activity_id"</span><span class="p">:</span><span class="s2">"Made_a_Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"activity_name"</span><span class="p">:</span><span class="s2">"Made a Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"user_id"</span><span class="p">:</span><span class="s2">"6176be2d5e"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"user_first_name"</span><span class="p">:</span><span class="s2">"Bob"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"user_last_name"</span><span class="p">:</span><span class="s2">"Baker"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"user_email"</span><span class="p">:</span><span class="s2">"bob@shopsocially.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"redemption_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"redemption_name"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"550ff099fa0eaa0767086968"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"approved_time"</span><span class="p">:</span><span class="s2">"20-Mar-15 19:20:22"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"auto_approval_date"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"points_status"</span><span class="p">:</span><span class="s2">"approved"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"transaction_type"</span><span class="p">:</span><span class="s2">"award"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"coupon_code"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"points"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nt">"approved_by"</span><span class="p">:</span><span class="s2">"Jai"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_time"</span><span class="p">:</span><span class="s2">"20-Mar-15 19:20:22"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_time"</span><span class="p">:</span><span class="s2">"30-Mar-15 19:20:22"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"partner_id"</span><span class="p">:</span><span class="s2">"9c62d683db96c7cabf8db0109be6bb"</span><span class="w">
        </span><span class="p">},</span><span class="w">
</span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>View details about any transaction. The transaction ID will be used to fetch this data.</p>

<p><strong>HTTP Request</strong></p>

<p><code class="prettyprint">GET  https://api.shopsocially.com/v2/loyalty/transactions/{transaction_id}</code></p>

<p><strong>Response Body</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>activity_id</td>
<td>string</td>
<td>Unique id for an activity</td>
</tr>
<tr>
<td>activity_name</td>
<td>string</td>
<td>Name of the activity</td>
</tr>
<tr>
<td>user_id</td>
<td>string</td>
<td>Unique id generated for each user</td>
</tr>
<tr>
<td>user_first_name</td>
<td>string</td>
<td>The person’s first name</td>
</tr>
<tr>
<td>user_last_name</td>
<td>string</td>
<td>The person’s last name</td>
</tr>
<tr>
<td>user_email</td>
<td>string</td>
<td>The person’s email address</td>
</tr>
<tr>
<td>redemption_id</td>
<td>string</td>
<td>Unique id for an redemption</td>
</tr>
<tr>
<td>redemption_name</td>
<td>string</td>
<td>Name of the redemption</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Internal id</td>
</tr>
<tr>
<td>approved_time</td>
<td>string</td>
<td>The time when transaction was approved</td>
</tr>
<tr>
<td>auto_approval_date</td>
<td>string</td>
<td>The time when transaction was auto approved</td>
</tr>
<tr>
<td>points_status</td>
<td>string</td>
<td>Status of transaction (approved,auto_approved,exhausted,<br>pending,rejected,auto_rejected,expired)</td>
</tr>
<tr>
<td>transaction_type</td>
<td>string</td>
<td>Type of transaction (award,deduct,redeem)</td>
</tr>
<tr>
<td>coupon_code</td>
<td>string</td>
<td>Coupon code used in the transaction</td>
</tr>
<tr>
<td>points</td>
<td>integer</td>
<td>The number of points involved in transaction</td>
</tr>
<tr>
<td>approved_by</td>
<td>string</td>
<td>Name of admin who approved the transaction</td>
</tr>
<tr>
<td>created_time</td>
<td>string</td>
<td>The time when the transaction was created</td>
</tr>
<tr>
<td>updated_time</td>
<td>string</td>
<td>The time when the transaction was updated</td>
</tr>
<tr>
<td>partner_id</td>
<td>string</td>
<td>The id of the merchant</td>
</tr>
</tbody></table>

<h2 id="users">Users</h2>

<p>Work in Progress</p>

<h2 id="activities">Activities</h2>

<p>The Activities API lets you create an activity, update activity configurations, get details of a particular activity and get the list of all activities for a merchant.</p>

<h3 id="create-activity">Create Activity</h3>
<pre class="highlight shell"><code>curl -X POST --header <span class="s2">"partner-id: &lt;your-partner-id&gt;"</span> 
--header <span class="s2">"api-key: &lt;your-api-key&gt;"</span> 
--data <span class="s2">"activity_id= &lt;Activity ID&gt;"</span> 
--data <span class="s2">"activity_name= &lt;Activity Name&gt;"</span>
--data <span class="s2">"activity_description= &lt;Activity Description&gt;"</span>
--data <span class="s2">"activity_type = &lt;Activity type&gt;"</span>
--data <span class="s2">"max_award_frequency = &lt;Max Award Frequency&gt;"</span>
--data <span class="s2">"max_award_frequency_interval = &lt;Max Award Frequency Interval&gt;"</span>
--data <span class="s2">"is_active = &lt;Activity State&gt;"</span>
--data <span class="s2">"approval_method = &lt;Award Approval Method&gt;"</span>
--data <span class="s2">"points_per_activity = &lt;Points to be awarded&gt;"</span>
--data <span class="s2">"bonus_multiplier = &lt;Bonus Multiplier&gt;"</span>
--data <span class="s2">"is_sale_activity = &lt;Is sale activity&gt;"</span>
--data <span class="s2">"qualified_points = &lt;Is qualified for Tier change&gt;"</span>
--data <span class="s2">"show_activity_in_user_dashboard = &lt;Show in dashboard&gt;"</span>
<span class="s2">"https://api.shopsocially.com/v2/loyalty/activities"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'partner-id'</span><span class="p">:</span> <span class="s">'9c62d683db96c7cabf8db0109be6bb'</span><span class="p">,</span> 
           <span class="s">'api-key'</span><span class="p">:</span> <span class="s">'9a4cf9131sasaw21dsb53a29e1b13'</span><span class="p">}</span>

<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span>
    <span class="s">"activity_id"</span> <span class="p">:</span> <span class="s">"shared_via_email"</span><span class="p">,</span>
    <span class="s">"activity_name"</span> <span class="p">:</span> <span class="s">"Share via Email"</span><span class="p">,</span>
    <span class="s">"activity_description"</span> <span class="p">:</span> <span class="s">"Earn points when you share our website </span><span class="err">
</span><span class="s">          with your friends via email."</span><span class="p">,</span>
    <span class="s">"activity_type"</span> <span class="p">:</span> <span class="s">"fixed"</span><span class="p">,</span>
    <span class="s">"max_award_frequency"</span> <span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s">"max_award_frequency_interval"</span> <span class="p">:</span> <span class="s">"day"</span><span class="p">,</span>
    <span class="s">"is_active"</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s">"approval_method"</span><span class="p">:</span> <span class="s">"immediate"</span><span class="p">,</span>
    <span class="s">"points_per_activity"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s">"bonus_multiplier"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s">"is_sale_activity"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s">"qualified_points"</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s">"show_activity_in_user_dashboard"</span><span class="p">:</span> <span class="n">true</span>
    <span class="p">})</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.shopsocially.com/v2/loyalty/activities"</span><span class="p">,</span>
                        <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">payload</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"56655832418a580281c2c41c"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"merchant_id"</span><span class="p">:</span><span class="s2">"c75d9a44221ac904ddadb81766786b34"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"activity_id"</span><span class="p">:</span><span class="s2">"shared_via_email"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"activity_name"</span><span class="p">:</span><span class="s2">"Share via Email"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"activity_description"</span><span class="p">:</span><span class="s2">"Earn points when you share our website 
          with your friends via email."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"activity_type"</span><span class="p">:</span><span class="s2">"fixed"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"approval_method"</span><span class="p">:</span><span class="s2">"immediate"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bonus_multiplier"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_time"</span><span class="p">:</span><span class="s2">"07-Dec-2015 09:58:10"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fixed_duration_period"</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="nt">"is_active"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"is_sale_activity"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"loyalty_activity_img"</span><span class="p">:</span><span class="s2">"https://d1qbqkkh49kht1.cloudfront.net/dc79fd08611160b9176d0d4b5c3f506f.png"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"max_award_frequency"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nt">"max_award_frequency_interval"</span><span class="p">:</span><span class="s2">"day"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"points_earning_url"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"points_per_activity"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nt">"qualified_points"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"show_activity_in_user_dashboard"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ss_internal"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_time"</span><span class="p">:</span><span class="s2">"31-Aug-2016 05:10:21"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Create a new activity which will earn loyalty points for customers.</p>

<p><strong>HTTP Request</strong></p>

<p><code class="prettyprint">POST  https://api.shopsocially.com/v2/loyalty/activities</code></p>

<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>activity_id</td>
<td>string</td>
<td>Yes</td>
<td>The unique id of an <br>activity</td>
</tr>
<tr>
<td>activity_name</td>
<td>string</td>
<td>Yes</td>
<td>The name of the activity</td>
</tr>
<tr>
<td>activity_description</td>
<td>string</td>
<td>Yes</td>
<td>Description of the activity</td>
</tr>
<tr>
<td>activity_type</td>
<td>string</td>
<td>Yes</td>
<td>Whether the activity <br> should award fixed <br>number of points or <br>use a multiplier.<br>(fixed/bonus_multiplier)</td>
</tr>
<tr>
<td>max_award_frequency</td>
<td>integer</td>
<td>Yes</td>
<td>The maximum number <br>of times a user will <br>be awarded points</td>
</tr>
<tr>
<td>max_award_frequency_interval</td>
<td>string</td>
<td>Yes</td>
<td>The time interval <br>constraint to the max_award_frequency <br>number (day, week, month, year, lifetime)</td>
</tr>
<tr>
<td>bonus_multiplier</td>
<td>integer</td>
<td>No</td>
<td>Multiplication factor to <br>award points instead of <br>awarding fixed points<br>(defaults to 1)</td>
</tr>
<tr>
<td>points_per_activity</td>
<td>integer</td>
<td>No</td>
<td>Fixed number of points to be awarded for an activity<br>(defaults to 1)</td>
</tr>
<tr>
<td>points_earning_url</td>
<td>string</td>
<td>No</td>
<td>Merchant&rsquo;s website page url where the activity will be configured</td>
</tr>
<tr>
<td>approval_method</td>
<td>string</td>
<td>Yes</td>
<td>User transaction approval method (immediate/<br>manual/monthly)</td>
</tr>
<tr>
<td>is_active</td>
<td>boolean</td>
<td>Yes</td>
<td>Whether the activity should be active or paused<br>(defaults to true)</td>
</tr>
<tr>
<td>is_sale_activity</td>
<td>boolean</td>
<td>No</td>
<td>Whether the activity should be a sale activity (defaults to false)</td>
</tr>
<tr>
<td>qualified_points</td>
<td>boolean</td>
<td>No</td>
<td>Whether the activity should be qualified for tier upgrade (defaults to true)</td>
</tr>
<tr>
<td>show_activity_in_user_dashboard</td>
<td>boolean</td>
<td>No</td>
<td>Whether the activity should be shown in user dashboard (defaults to true)</td>
</tr>
</tbody></table>

<p><strong>Response Body</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Internal id</td>
</tr>
<tr>
<td>merchant_id</td>
<td>string</td>
<td>The id of the merchant</td>
</tr>
<tr>
<td>activity_id</td>
<td>string</td>
<td>Unique id generated for each activity</td>
</tr>
<tr>
<td>activity_name</td>
<td>string</td>
<td>The name of the activity</td>
</tr>
<tr>
<td>activity_description</td>
<td>string</td>
<td>The description of the activity</td>
</tr>
<tr>
<td>activity_type</td>
<td>string</td>
<td>Whether the activity should award fixed number of points or use a multiplier (fixed/bonus_multiplier)</td>
</tr>
<tr>
<td>approval_method</td>
<td>string</td>
<td>User transaction approval method (immediate/manual/monthly).</td>
</tr>
<tr>
<td>bonus_multiplier</td>
<td>integer</td>
<td>Multiplication factor to award points instead of awarding fixed points</td>
</tr>
<tr>
<td>created_time</td>
<td>string</td>
<td>The time when activity is created_time</td>
</tr>
<tr>
<td>is_active</td>
<td>boolean</td>
<td>Indicates whether the activity is active or paused (true/false)</td>
</tr>
<tr>
<td>is_sale_activity</td>
<td>boolean</td>
<td>Indicates if the activity is a purchase activity (true/false)</td>
</tr>
<tr>
<td>loyalty_activity_img</td>
<td>string</td>
<td>The image url of an activity</td>
</tr>
<tr>
<td>max_award_frequency</td>
<td>integer</td>
<td>The maximum number of times a user will be awarded points</td>
</tr>
<tr>
<td>max_award_frequency_interval</td>
<td>string</td>
<td>The time interval constraint to the max_award_frequency number (day, week, month, year, lifetime)</td>
</tr>
<tr>
<td>points_earning_url</td>
<td>string</td>
<td>Merchant&rsquo;s website page url where the activity will be configured</td>
</tr>
<tr>
<td>point_per_activity</td>
<td>integer</td>
<td>Fixed number of points to be awarded for an activity</td>
</tr>
<tr>
<td>qualified_points</td>
<td>boolean</td>
<td>Indicates if the activity is qualified for tier upgrade (true/false)</td>
</tr>
<tr>
<td>show_activity_in_user_dashboard</td>
<td>boolean</td>
<td>Indicates if the activity is to be shown on the end user dashboard (true/false)</td>
</tr>
<tr>
<td>ss_internal</td>
<td>boolean</td>
<td>Indicates whether an activity is an internal activity (true/false)</td>
</tr>
<tr>
<td>updated_time</td>
<td>string</td>
<td>The time when activity configuration was last modified</td>
</tr>
</tbody></table>

<h3 id="update-activity">Update Activity</h3>
<pre class="highlight shell"><code>curl -X PUT --header <span class="s2">"partner-id: &lt;your-partner-id&gt;"</span>
--header <span class="s2">"api-key: &lt;your-api-key&gt;"</span> 
--data <span class="s2">"activity_name= &lt;Activity Name&gt;"</span>
--data <span class="s2">"activity_description= &lt;Activity Description&gt;"</span>
--data <span class="s2">"activity_type = &lt;Activity type&gt;"</span>
--data <span class="s2">"max_award_frequency = &lt;Max Award Frequency&gt;"</span>
--data <span class="s2">"max_award_frequency_interval = &lt;Max Award Frequency Interval&gt;"</span>
--data <span class="s2">"bonus_multiplier = &lt;Bonus Multiplier&gt;"</span>
--data <span class="s2">"points_per_activity = &lt;Points to be awarded&gt;"</span>
--data <span class="s2">"approval_method = &lt;Award Approval Method&gt;"</span>
--data <span class="s2">"is_active = &lt;Activity State&gt;"</span>
<span class="s2">"https://api.shopsocially.com/v2/loyalty/activities/{activity_id}"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'partner-id'</span><span class="p">:</span> <span class="s">'9c62d683db96c7cabf8db0109be6bb'</span><span class="p">,</span> 
           <span class="s">'api-key'</span><span class="p">:</span> <span class="s">'9a4cf9131sasaw21dsb53a29e1b13'</span><span class="p">}</span>

<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span>
  <span class="s">"activity_name"</span> <span class="p">:</span> <span class="s">"Share via Email"</span><span class="p">,</span>
  <span class="s">"activity_description"</span> <span class="p">:</span> <span class="s">"Earn points when you share our website </span><span class="err">
</span><span class="s">          with your friends via email."</span><span class="p">,</span>
  <span class="s">"activity_type"</span> <span class="p">:</span> <span class="s">"fixed"</span><span class="p">,</span>
  <span class="s">"max_award_frequency"</span> <span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
  <span class="s">"max_award_frequency_interval"</span> <span class="p">:</span> <span class="s">"day"</span><span class="p">,</span>
  <span class="s">"bonus_multiplier"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">"points_per_activity"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
  <span class="s">"approval_method"</span><span class="p">:</span> <span class="s">"immediate"</span><span class="p">,</span>
  <span class="s">"is_active"</span><span class="p">:</span> <span class="n">true</span>
<span class="p">})</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.shopsocially.com/v2/loyalty/activities/{activity_id}"</span><span class="p">,</span>
                        <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">payload</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"56655832418a580281c2c41c"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"activity_id"</span><span class="p">:</span><span class="s2">"shared_via_email"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"activity_name"</span><span class="p">:</span><span class="s2">"Share via Email"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"activity_description"</span><span class="p">:</span><span class="s2">"Earn points when you share our website with your friends via email."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"activity_type"</span><span class="p">:</span><span class="s2">"fixed"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"approval_method"</span><span class="p">:</span><span class="s2">"immediate"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bonus_multiplier"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_time"</span><span class="p">:</span><span class="s2">"07-Dec-2015 09:58:10"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fixed_duration_period"</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_active"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_sale_activity"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"loyalty_activity_img"</span><span class="p">:</span><span class="s2">"https://d1qbqkkh49kht1.cloudfront.net/dc79fd08611160b9176d0d4b5c3f506f.png"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"max_award_frequency"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nt">"max_award_frequency_interval"</span><span class="p">:</span><span class="s2">"day"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"merchant_id"</span><span class="p">:</span><span class="s2">"c75d9a44221ac904ddadb81766786b34"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"points_earning_url"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"points_per_activity"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nt">"qualified_points"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"show_activity_in_user_dashboard"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"show_on_merchant_center"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ss_internal"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_time"</span><span class="p">:</span><span class="s2">"31-Aug-2016 05:10:21"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update an activity configuration by passing the activity ID.
Any or all of the below listed fields (query parameters table) can be updated by passing in the adequate parameter.</p>

<p><strong>HTTP Request</strong></p>

<p><code class="prettyprint">PUT  https://api.shopsocially.com/v2/loyalty/activities/{activity_id}</code></p>

<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>activity_name</td>
<td>string</td>
<td>The name of the activity</td>
</tr>
<tr>
<td>activity_description</td>
<td>string</td>
<td>Description of the activity</td>
</tr>
<tr>
<td>activity_type</td>
<td>string</td>
<td>Whether the activity should award fixed number of points or use a multiplier (fixed/bonus_multiplier)</td>
</tr>
<tr>
<td>max_award_frequency</td>
<td>integer</td>
<td>The maximum number of times a user will be awarded points</td>
</tr>
<tr>
<td>max_award_frequency_interval</td>
<td>string</td>
<td>The time interval constraint to the max_award_frequency number (day, week, month, year, lifetime)</td>
</tr>
<tr>
<td>bonus_multiplier</td>
<td>integer</td>
<td>Multiplication factor to award points instead of awarding fixed points (defaults to 1)</td>
</tr>
<tr>
<td>points_per_activity</td>
<td>integer</td>
<td>Fixed number of points to be awarded for an activity (defaults to 1)</td>
</tr>
<tr>
<td>approval_method</td>
<td>string</td>
<td>User transaction approval method (immediate/manual/monthly)</td>
</tr>
<tr>
<td>is_active</td>
<td>boolean</td>
<td>Whether the activity should be active or paused (defaults to true)</td>
</tr>
</tbody></table>

<p><strong>Response Body</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Internal id</td>
</tr>
<tr>
<td>activity_id</td>
<td>string</td>
<td>Unique id generated for each activity</td>
</tr>
<tr>
<td>activity_name</td>
<td>string</td>
<td>The name of activity</td>
</tr>
<tr>
<td>activity_description</td>
<td>string</td>
<td>The description of the activity</td>
</tr>
<tr>
<td>activity_type</td>
<td>string</td>
<td>Whether the activity should award fixed number of points or use a multiplier(fixed/bonus_multiplier).</td>
</tr>
<tr>
<td>approval_method</td>
<td>string</td>
<td>User transaction approval method (immediate/manual/monthly).</td>
</tr>
<tr>
<td>bonus_multiplier</td>
<td>integer</td>
<td>Multiplication factor to award points instead of awarding fixed points</td>
</tr>
<tr>
<td>created_time</td>
<td>string</td>
<td>The time when activity is created_time</td>
</tr>
<tr>
<td>is_active</td>
<td>boolean</td>
<td>Indicates whether the activity is active or paused (true/false)</td>
</tr>
<tr>
<td>is_sale_activity</td>
<td>boolean</td>
<td>Indicates if the activity is a purchase activity (true/false)</td>
</tr>
<tr>
<td>loyalty_activity_img</td>
<td>string</td>
<td>The image url of an activity</td>
</tr>
<tr>
<td>max_award_frequency</td>
<td>integer</td>
<td>The maximum number of times a user will be awarded points</td>
</tr>
<tr>
<td>max_award_frequency_interval</td>
<td>string</td>
<td>The time interval constraint to the max_award_frequency number (day, week, month, year, lifetime).</td>
</tr>
<tr>
<td>merchant_id</td>
<td>string</td>
<td>The id of the merchant</td>
</tr>
<tr>
<td>points_earning_url</td>
<td>string</td>
<td>Merchant&rsquo;s website page url where the activity will be configured</td>
</tr>
<tr>
<td>point_per_activity</td>
<td>integer</td>
<td>Fixed number of points to be awarded for an activity</td>
</tr>
<tr>
<td>qualified_points</td>
<td>boolean</td>
<td>Indicates if the activity is qualified for tier upgrade (true/false)</td>
</tr>
<tr>
<td>show_activity_in_user_dashboard</td>
<td>boolean</td>
<td>Indicates if the activity is to be shown in the end user dashboard (true/false)</td>
</tr>
<tr>
<td>ss_internal</td>
<td>boolean</td>
<td>Indicates whether an activity is an internal activity (true/false)</td>
</tr>
<tr>
<td>updated_time</td>
<td>string</td>
<td>The time when the activity configuration was last modified</td>
</tr>
</tbody></table>

<h3 id="get-activity">Get Activity</h3>
<pre class="highlight shell"><code>curl -X GET --header <span class="s2">"partner-id: &lt;your-partner-id&gt;"</span> 
--header <span class="s2">"api-key: &lt;your-api-key&gt;"</span> 
<span class="s2">"https://api.shopsocially.com/v2/loyalty/activities/{activity_id}"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'partner-id'</span><span class="p">:</span> <span class="s">'9c62d683db96c7cabf8db0109be6bb'</span><span class="p">,</span> 
           <span class="s">'api-key'</span><span class="p">:</span> <span class="s">'9a4cf9131sasaw21dsb53a29e1b13'</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.shopsocially.com/v2/loyalty/activities/{activity_id}"</span><span class="p">,</span>
                        <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"56655832418a580281c2c41c"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"activity_id"</span><span class="p">:</span><span class="s2">"shared_via_email"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"activity_name"</span><span class="p">:</span><span class="s2">"Share via Email"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"activity_description"</span><span class="p">:</span><span class="s2">"Earn points when you share our website with your friends via email."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"activity_type"</span><span class="p">:</span><span class="s2">"fixed"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"approval_method"</span><span class="p">:</span><span class="s2">"immediate"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bonus_multiplier"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"created_time"</span><span class="p">:</span><span class="s2">"07-Dec-2015 09:58:10"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"is_active"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"is_sale_activity"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"loyalty_activity_img"</span><span class="p">:</span><span class="s2">"https://d1qbqkkh49kht1.cloudfront.net/dc79fd08611160b9176d0d4b5c3f506f.png"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"max_award_frequency"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nt">"max_award_frequency_interval"</span><span class="p">:</span><span class="s2">"day"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"merchant_id"</span><span class="p">:</span><span class="s2">"c75d9a44221ac904ddadb81766786b34"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"points_earning_url"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"points_per_activity"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nt">"qualified_points"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"show_activity_in_user_dashboard"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"show_on_merchant_center"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ss_internal"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"updated_time"</span><span class="p">:</span><span class="s2">"31-Aug-2016 05:10:21"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>View details about any activity. The activity ID will be used to fetch this data.</p>

<p><strong>HTTP Request</strong></p>

<p><code class="prettyprint">GET  https://api.shopsocially.com/v2/loyalty/activities/{activity_id}</code></p>

<p><strong>Response Body</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Internal id</td>
</tr>
<tr>
<td>activity_id</td>
<td>string</td>
<td>Unique id generated for each activity</td>
</tr>
<tr>
<td>activity_name</td>
<td>string</td>
<td>The name of activity</td>
</tr>
<tr>
<td>activity_description</td>
<td>string</td>
<td>The description of the activity</td>
</tr>
<tr>
<td>activity_type</td>
<td>string</td>
<td>Whether the activity should award fixed number of points or use a multiplier (fixed/bonus_multiplier)</td>
</tr>
<tr>
<td>approval_method</td>
<td>string</td>
<td>User transaction approval method (immediate/manual/monthly).</td>
</tr>
<tr>
<td>bonus_multiplier</td>
<td>integer</td>
<td>Multiplication factor to award points instead of awarding fixed points</td>
</tr>
<tr>
<td>created_time</td>
<td>string</td>
<td>The time when activity is created_time</td>
</tr>
<tr>
<td>is_active</td>
<td>boolean</td>
<td>Indicates if activity is active or paused (true/false)</td>
</tr>
<tr>
<td>is_sale_activity</td>
<td>boolean</td>
<td>Indicates if the activity is a purchase activity (true/false)</td>
</tr>
<tr>
<td>loyalty_activity_img</td>
<td>string</td>
<td>The image url of an activity</td>
</tr>
<tr>
<td>max_award_frequency</td>
<td>integer</td>
<td>The maximum number of times a user will be awarded points</td>
</tr>
<tr>
<td>max_award_frequency_interval</td>
<td>string</td>
<td>The time interval constraint to the max_award_frequency number (day, week, month, year, lifetime)</td>
</tr>
<tr>
<td>merchant_id</td>
<td>string</td>
<td>The id of the merchant</td>
</tr>
<tr>
<td>points_earning_url</td>
<td>string</td>
<td>Merchant&rsquo;s website page url where the activity will be configured.</td>
</tr>
<tr>
<td>points_per_activity</td>
<td>integer</td>
<td>Fixed number of points to be awarded for an activity</td>
</tr>
<tr>
<td>qualified_points</td>
<td>boolean</td>
<td>Indicates if the activity is qualified for tier upgrade (true/false)</td>
</tr>
<tr>
<td>show_activity_in_user_dashboard</td>
<td>boolean</td>
<td>Indicates if the activity is to be shown on the end user dashboard (true/false)</td>
</tr>
<tr>
<td>ss_internal</td>
<td>boolean</td>
<td>Indicates whether an activity is an internal activity (true/false)</td>
</tr>
<tr>
<td>updated_time</td>
<td>string</td>
<td>The time when the activity configuration was last modified</td>
</tr>
</tbody></table>

<h3 id="get-all-activities">Get All Activities</h3>
<pre class="highlight shell"><code>curl -X GET --header <span class="s2">"partner-id: &lt;your-partner-id&gt;"</span> 
--header <span class="s2">"api-key: &lt;your-api-key&gt;"</span> 
<span class="s2">"https://api.shopsocially.com/v2/loyalty/activities"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'partner-id'</span><span class="p">:</span> <span class="s">'9c62d683db96c7cabf8db0109be6bb'</span><span class="p">,</span> 
           <span class="s">'api-key'</span><span class="p">:</span> <span class="s">'9a4cf9131sasaw21dsb53a29e1b13'</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.shopsocially.com/v2/loyalty/activities"</span><span class="p">,</span>
                        <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"56655832418a580281c2c41c"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"activity_id"</span><span class="p">:</span><span class="s2">"shared_via_email"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"activity_name"</span><span class="p">:</span><span class="s2">"Share via Email"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"activity_description"</span><span class="p">:</span><span class="s2">"Earn points when you share our website with your friends via email."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"activity_type"</span><span class="p">:</span><span class="s2">"fixed"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"approval_method"</span><span class="p">:</span><span class="s2">"immediate"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"bonus_multiplier"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_time"</span><span class="p">:</span><span class="s2">"07-Dec-2015 09:58:10"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_active"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"is_sale_activity"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"max_award_frequency"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nt">"max_award_frequency_interval"</span><span class="p">:</span><span class="s2">"day"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"merchant_id"</span><span class="p">:</span><span class="s2">"c75d9a44221ac904ddadb81766786b34"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"points_earning_url"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"points_per_activity"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nt">"qualified_points"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"show_activity_in_user_dashboard"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"ss_internal"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_time"</span><span class="p">:</span><span class="s2">"31-Aug-2016 05:10:21"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>View a list of all configured activities for which customers can earn loyalty points.</p>

<p><strong>HTTP Request</strong></p>

<p><code class="prettyprint">GET  https://api.shopsocially.com/v2/loyalty/activities</code></p>

<p><strong>Response Body</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Internal id</td>
</tr>
<tr>
<td>activity_id</td>
<td>string</td>
<td>Unique id generated for each activity</td>
</tr>
<tr>
<td>activity_name</td>
<td>string</td>
<td>The name of the activity</td>
</tr>
<tr>
<td>activity_description</td>
<td>string</td>
<td>The description about activity</td>
</tr>
<tr>
<td>activity_type</td>
<td>string</td>
<td>Whether the activity should award fixed number of points or use a multiplier (fixed/bonus_multiplier)</td>
</tr>
<tr>
<td>approval_method</td>
<td>string</td>
<td>User transaction approval method (immediate/manual/monthly).</td>
</tr>
<tr>
<td>bonus_multiplier</td>
<td>integer</td>
<td>Multiplication factor to award points instead of awarding fixed points</td>
</tr>
<tr>
<td>created_time</td>
<td>string</td>
<td>The time when the activity was created</td>
</tr>
<tr>
<td>is_active</td>
<td>boolean</td>
<td>Indicates if an activity is active or paused (true/false)</td>
</tr>
<tr>
<td>is_sale_activity</td>
<td>boolean</td>
<td>Indicates if an activity is a sale activity (true/false)</td>
</tr>
<tr>
<td>max_award_frequency</td>
<td>integer</td>
<td>The maximum number of times a user will be awarded points</td>
</tr>
<tr>
<td>max_award_frequency_interval</td>
<td>string</td>
<td>The time interval constraint to the max_award_frequency number (day, week, month, year, lifetime)</td>
</tr>
<tr>
<td>merchant_id</td>
<td>string</td>
<td>The id of the merchant</td>
</tr>
<tr>
<td>points_earning_url</td>
<td>string</td>
<td>Merchant&rsquo;s website page url where the activity will be configured.</td>
</tr>
<tr>
<td>point_per_activity</td>
<td>integer</td>
<td>Fixed number of points to be awarded for an activity</td>
</tr>
<tr>
<td>qualified_points</td>
<td>boolean</td>
<td>Indicates if the activity is qualified for tier upgrade (true/false)</td>
</tr>
<tr>
<td>show_activity_in_user_dashboard</td>
<td>boolean</td>
<td>Indicates if the activity is to be shown on the end user dashboard (true/false).</td>
</tr>
<tr>
<td>ss_internal</td>
<td>boolean</td>
<td>Indicates whether an activity is an internal activity (true/false)</td>
</tr>
<tr>
<td>updated_time</td>
<td>string</td>
<td>The time when activity configuration was last modified</td>
</tr>
</tbody></table>

<h2 id="redemptions">Redemptions</h2>

<p>The Redemptions API lets you create a redemption, update redemption configurations, get details of a particular redemption and get the list of all redemptions for a merchant.</p>

<h3 id="create-redemption">Create Redemption</h3>
<pre class="highlight shell"><code>curl -X POST --header <span class="s2">"partner-id: &lt;your-partner-id&gt;"</span> 
--header <span class="s2">"api-key: &lt;your-api-key&gt;"</span> 
--data <span class="s2">"redemption_id: &lt;redemption_id&gt;"</span> 
--data <span class="s2">"redemption_name: &lt;redemption_name&gt;"</span> 
--data <span class="s2">"is_active: &lt;redemption_status&gt;"</span> 
--data <span class="s2">"allowed_redeem_points: &lt;allowed_redeem_points&gt;"</span> 
--data <span class="s2">"redemption_value: &lt;redemption_value&gt;"</span> 
--data <span class="s2">"giftcard_description: &lt;giftcard_description&gt;"</span> 
--data <span class="s2">"terms_and_conds_text: &lt;terms_and_conds_text&gt;"</span> 
--data <span class="s2">"redemption_instructions: &lt;redemption_instructions&gt;"</span> 
--data <span class="s2">"giftcard_coupon_codes: &lt;giftcard_coupon_codes&gt;"</span> 
--data <span class="s2">"coupon_expiry: &lt;coupon_expiry&gt;"</span> 
<span class="s2">"https://api.shopsocially.com/v2/loyalty/redemptions"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'partner-id'</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">your</span><span class="o">-</span><span class="n">partner</span><span class="o">-</span><span class="nb">id</span><span class="o">&gt;</span><span class="p">,</span> 
           <span class="s">'api-key'</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">your</span><span class="o">-</span><span class="n">api</span><span class="o">-</span><span class="n">key</span><span class="o">&gt;</span><span class="p">}</span>

<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span>
<span class="s">"redemption_id"</span><span class="p">:</span> <span class="s">"&lt;redemption_id&gt;"</span><span class="p">,</span>
<span class="s">"redemption_name"</span><span class="p">:</span> <span class="s">"&lt;redemption_name&gt;"</span><span class="p">,</span>
<span class="s">"is_active"</span><span class="p">:</span> <span class="s">"&lt;redemption_status&gt;"</span><span class="p">,</span>
<span class="s">"allowed_redeem_points"</span><span class="p">:</span> <span class="s">"&lt;allowed_redeem_points&gt;"</span><span class="p">,</span>
<span class="s">"redemption_value"</span><span class="p">:</span> <span class="s">"&lt;redemption_value&gt;"</span><span class="p">,</span>
<span class="s">"giftcard_description"</span><span class="p">:</span> <span class="s">"&lt;giftcard_description&gt;"</span><span class="p">,</span>
<span class="s">"terms_and_conds_text"</span><span class="p">:</span> <span class="s">"&lt;terms_and_conds_text&gt;"</span><span class="p">,</span>
<span class="s">"redemption_instructions"</span><span class="p">:</span> <span class="s">"&lt;redemption_instructions&gt;"</span><span class="p">,</span>
<span class="s">"giftcard_coupon_codes"</span><span class="p">:</span> <span class="s">"&lt;giftcard_coupon_codes&gt;"</span><span class="p">,</span>
<span class="s">"coupon_expiry"</span><span class="p">:</span> <span class="s">"&lt;coupon_expiry&gt;"</span><span class="p">})</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.shopsocially.com/v2/loyalty/transaction/return"</span><span class="p">,</span>
                        <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">payload</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"redemption_email_html"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;div style=\"border:solid 1px rgba(0,0,0,0.2);font-family:'Source Sans Pro', 'Helvetica Neue', 'Lucida Sans', sans-serif;\"&gt;&lt;img src=\"https://d1qbqkkh49kht1.cloudfront.net/c66c2dc1d96e2ac46b9722b1a2524c10.png\" style=\"width:100%\"&gt;&lt;div style=\"text-align:left;margin-top:10px;font-size: 15px;padding:0px 30px 0px 30px\"&gt;Hi,&lt;br&gt;&lt;div style=\"margin-top: 10px;\"&gt;You have redeemed _POINTS_REDEEMED_ loyalty points from your account at &lt;a href=\"_MERCHANT_WEB_URL_\" target=\"_blank\"&gt;_MERCHANT_NAME_&lt;/a&gt;.&lt;br&gt;&lt;br&gt;&lt;a href=\"_USER_DASHBOARD_URL_\" target=\"_blank\"&gt;Click here&lt;/a&gt; to log in and check your loyalty points status and to redeem more points.&lt;/div&gt;&lt;div style=\"text-align:left;margin-top: 15px;font-size:15px;\"&gt;Thank you.&lt;br&gt;&lt;br&gt;Thanks,&lt;br&gt;_MERCHANT_NAME_ Team&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"loyalty_redemption_card_img"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d1qbqkkh49kht1.cloudfront.net/b32b7803e9bbcf6b8e9b8d8ce1be7224.png"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07-Dec-2016 12:17:02"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"giftcard_coupon_codes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a,b,c,d,e,f,g,h,i"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5847fdbeb0207a60ce2facf1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"giftcard_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"giftcard_description"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"terms_and_conds_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terms_and_conds_text"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"after_redemption_html"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;div class=\"coupon_code_div\"&gt;_COUPON_CODE_&lt;/div&gt;&lt;div style=\"margin-top: 15px;\"&gt; A copy of the code has been emailed to _USER_EMAIL_.&lt;/div&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"associated_levels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"all"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"send_redemption_email"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"redemption_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"coupon_expiry_trigger"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"enable_coupon_based_incentive"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"redemption_instructions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redemption_instructions"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"redemption_email_subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Redemption Confirmation Receipt - _MERCHANT_NAME_ Loyalty Program"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"coupon_expiry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01-Jan-2018"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"merchant_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c75d9a44221ac904ddadb81766786b34"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"show_redemption_in_user_dashboard"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"show_on_merchant_center"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"redemption_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redemption_name"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"coupon_expiry_delta"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nt">"allowed_redeem_points"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07-Dec-2016 12:17:03"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"redemption_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_redemption"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Create a redemption option.</p>

<p><strong>HTTP Request</strong></p>

<p><code class="prettyprint">POST  https://api.shopsocially.com/v2/loyalty/redemptions</code></p>

<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>redemption_id</td>
<td>string</td>
<td>Yes</td>
<td>Redemption ID.</td>
</tr>
<tr>
<td>redemption_name</td>
<td>integer</td>
<td>Yes</td>
<td>The name of the redemption which will be displayed to the user</td>
</tr>
<tr>
<td>is_active</td>
<td>boolean</td>
<td>No</td>
<td>Should the redemption option be active or paused<br>(defaults to false)</td>
</tr>
<tr>
<td>allowed_redeem_points</td>
<td>number</td>
<td>Yes</td>
<td>The number of points to be deducted when user redeems</td>
</tr>
<tr>
<td>redemption_value</td>
<td>number</td>
<td>Yes</td>
<td>The monetary value associated with the redemption</td>
</tr>
<tr>
<td>giftcard_description</td>
<td>string</td>
<td>Yes</td>
<td>The description of the giftcard/ coupon which will be shown to the user</td>
</tr>
<tr>
<td>terms_and_conds_text</td>
<td>string</td>
<td>Yes</td>
<td>The terms and conditions text users have to agree to at the time of redemption</td>
</tr>
<tr>
<td>redemption_instructions</td>
<td>string</td>
<td>No</td>
<td>The redemption instructions displayed to the users</td>
</tr>
<tr>
<td>giftcard_coupon_codes</td>
<td>string</td>
<td>Yes</td>
<td>One time coupon codes to be issued when user redeems<br>(comma separated)</td>
</tr>
<tr>
<td>coupon_expiry</td>
<td>string</td>
<td>Yes</td>
<td>The expiry date of the coupons<br>(DD-MMM-YYYY)</td>
</tr>
</tbody></table>

<p><strong>Response Body</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>redemption_email_html</td>
<td>string</td>
<td>Redemption Email HTML</td>
</tr>
<tr>
<td>loyalty_redemption_card_img</td>
<td>string</td>
<td>Loyalty Redemption Card Image</td>
</tr>
<tr>
<td>created_time</td>
<td>string</td>
<td>Redemption creation time</td>
</tr>
<tr>
<td>giftcard_coupon_codes</td>
<td>string</td>
<td>Giftcard Coupons entered</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Internal ID</td>
</tr>
<tr>
<td>giftcard_description</td>
<td>string</td>
<td>Giftcard Description</td>
</tr>
<tr>
<td>terms_and_conds_text</td>
<td>string</td>
<td>Terms and Conditions</td>
</tr>
<tr>
<td>after_redemption_html</td>
<td>string</td>
<td>After redemption HTML</td>
</tr>
<tr>
<td>associated_levels</td>
<td>array</td>
<td>Levels Associated with the Redemption</td>
</tr>
<tr>
<td>send_redemption_email</td>
<td>boolean</td>
<td>Indicates whether the redemption email was sent or not (true/false)</td>
</tr>
<tr>
<td>redemption_value</td>
<td>number</td>
<td>Points to be deducted after redemption</td>
</tr>
<tr>
<td>coupon_expiry_trigger</td>
<td>string</td>
<td>Coupon Expiry Trigger</td>
</tr>
<tr>
<td>is_active</td>
<td>boolean</td>
<td>Indicates whether the Redemption Option is active or not (true/false)</td>
</tr>
<tr>
<td>enable_coupon_based_incentive</td>
<td>boolean</td>
<td>Indicates whether coupon based incentive is enabled or not (true/false)</td>
</tr>
<tr>
<td>redemption_instructions</td>
<td>string</td>
<td>Redemption instructions</td>
</tr>
<tr>
<td>redemption_email_subject</td>
<td>string</td>
<td>Redemption Email Subject</td>
</tr>
<tr>
<td>coupon_expiry</td>
<td>string</td>
<td>The expiry date of the coupons</td>
</tr>
<tr>
<td>merchant_id</td>
<td>string</td>
<td>Merchant ID</td>
</tr>
<tr>
<td>show_redemption_in_user_dashboard</td>
<td>boolean</td>
<td>Indicates whether the redemption option is shown on the user dashboard (true/false)</td>
</tr>
<tr>
<td>show_on_merchant_center</td>
<td>boolean</td>
<td>Indicates whether the redemption option is shown in the merchant center (true/false)</td>
</tr>
<tr>
<td>redemption_name</td>
<td>string</td>
<td>The name of the redemption</td>
</tr>
<tr>
<td>coupon_expiry_delta</td>
<td>number</td>
<td>Number of days before coupon expires</td>
</tr>
<tr>
<td>allowed_redeem_points</td>
<td>string</td>
<td>Allowed Redeem points</td>
</tr>
<tr>
<td>updated_time</td>
<td>string</td>
<td>Redemption option updation time</td>
</tr>
<tr>
<td>redemption_id</td>
<td>string</td>
<td>Redemption ID</td>
</tr>
</tbody></table>

<h3 id="update-redemption">Update Redemption</h3>
<pre class="highlight shell"><code>curl -X PUT --header <span class="s2">"partner-id: &lt;your-partner-id&gt;"</span> 
--header <span class="s2">"api-key: &lt;your-api-key&gt;"</span> 
--data <span class="s2">"redemption_name: &lt;redemption_name&gt;"</span> 
--data <span class="s2">"is_active: &lt;redemption_status&gt;"</span> 
--data <span class="s2">"allowed_redeem_points: &lt;allowed_redeem_points&gt;"</span> 
--data <span class="s2">"redemption_value: &lt;redemption_value&gt;"</span> 
--data <span class="s2">"giftcard_description: &lt;giftcard_description&gt;"</span> 
--data <span class="s2">"terms_and_conds_text: &lt;terms_and_conds_text&gt;"</span> 
--data <span class="s2">"redemption_instructions: &lt;redemption_instructions&gt;"</span> 
--data <span class="s2">"giftcard_coupon_codes: &lt;giftcard_coupon_codes&gt;"</span> 
--data <span class="s2">"coupon_expiry: &lt;coupon_expiry&gt;"</span> 
<span class="s2">"https://api.shopsocially.com/v2/loyalty/redemptions/{redemption_id}"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'partner-id'</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">your</span><span class="o">-</span><span class="n">partner</span><span class="o">-</span><span class="nb">id</span><span class="o">&gt;</span><span class="p">,</span> 
           <span class="s">'api-key'</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">your</span><span class="o">-</span><span class="n">api</span><span class="o">-</span><span class="n">key</span><span class="o">&gt;</span><span class="p">}</span>

<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span>
<span class="s">"redemption_name"</span><span class="p">:</span> <span class="s">"&lt;redemption_name&gt;"</span><span class="p">,</span>
<span class="s">"is_active"</span><span class="p">:</span> <span class="s">"&lt;redemption_status&gt;"</span><span class="p">,</span>
<span class="s">"allowed_redeem_points"</span><span class="p">:</span> <span class="s">"&lt;allowed_redeem_points&gt;"</span><span class="p">,</span>
<span class="s">"redemption_value"</span><span class="p">:</span> <span class="s">"&lt;redemption_value&gt;"</span><span class="p">,</span>
<span class="s">"giftcard_description"</span><span class="p">:</span> <span class="s">"&lt;giftcard_description&gt;"</span><span class="p">,</span>
<span class="s">"terms_and_conds_text"</span><span class="p">:</span> <span class="s">"&lt;terms_and_conds_text&gt;"</span><span class="p">,</span>
<span class="s">"redemption_instructions"</span><span class="p">:</span> <span class="s">"&lt;redemption_instructions&gt;"</span><span class="p">,</span>
<span class="s">"giftcard_coupon_codes"</span><span class="p">:</span> <span class="s">"&lt;giftcard_coupon_codes&gt;"</span><span class="p">,</span>
<span class="s">"coupon_expiry"</span><span class="p">:</span> <span class="s">"&lt;coupon_expiry&gt;"</span><span class="p">})</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.shopsocially.com/v2/loyalty/redemptions/{redemption_id}"</span><span class="p">,</span>
                        <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">payload</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"redemption_email_html"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;div style=\"border:solid 1px rgba(0,0,0,0.2);font-family:'Source Sans Pro', 'Helvetica Neue', 'Lucida Sans', sans-serif;\"&gt;&lt;img src=\"https://d1qbqkkh49kht1.cloudfront.net/c66c2dc1d96e2ac46b9722b1a2524c10.png\" style=\"width:100%\"&gt;&lt;div style=\"text-align:left;margin-top:10px;font-size: 15px;padding:0px 30px 0px 30px\"&gt;Hi,&lt;br&gt;&lt;div style=\"margin-top: 10px;\"&gt;You have redeemed _POINTS_REDEEMED_ loyalty points from your account at &lt;a href=\"_MERCHANT_WEB_URL_\" target=\"_blank\"&gt;_MERCHANT_NAME_&lt;/a&gt;.&lt;br&gt;&lt;br&gt;&lt;a href=\"_USER_DASHBOARD_URL_\" target=\"_blank\"&gt;Click here&lt;/a&gt; to log in and check your loyalty points status and to redeem more points.&lt;/div&gt;&lt;div style=\"text-align:left;margin-top: 15px;font-size:15px;\"&gt;Thank you.&lt;br&gt;&lt;br&gt;Thanks,&lt;br&gt;_MERCHANT_NAME_ Team&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"loyalty_redemption_card_img"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d1qbqkkh49kht1.cloudfront.net/b32b7803e9bbcf6b8e9b8d8ce1be7224.png"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07-Dec-2016 12:17:02"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"giftcard_coupon_codes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a,b,c,d,e,f,g,h,i"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5847fdbeb0207a60ce2facf1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"giftcard_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"giftcard_description"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"terms_and_conds_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terms_and_conds_text"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"after_redemption_html"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;div class=\"coupon_code_div\"&gt;_COUPON_CODE_&lt;/div&gt;&lt;div style=\"margin-top: 15px;\"&gt; A copy of the code has been emailed to _USER_EMAIL_.&lt;/div&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"associated_levels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"all"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"send_redemption_email"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"redemption_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"coupon_expiry_trigger"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"enable_coupon_based_incentive"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"redemption_instructions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redemption_instructions"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"redemption_email_subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Redemption Confirmation Receipt - _MERCHANT_NAME_ Loyalty Program"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"coupon_expiry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01-Jan-2018"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"merchant_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c75d9a44221ac904ddadb81766786b34"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"show_redemption_in_user_dashboard"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"show_on_merchant_center"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"redemption_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redemption_name"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"coupon_expiry_delta"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nt">"allowed_redeem_points"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07-Dec-2016 12:17:03"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"redemption_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_redemption"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Update any of the configured redemption options using the Redemption option ID. Any or all of the below listed fields (query parameters table) can be updated by passing in the adequate parameter.</p>

<p><strong>HTTP Request</strong></p>

<p><code class="prettyprint">PUT  https://api.shopsocially.com/v2/loyalty/redemptions/{redemption_id}</code></p>

<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>redemption_name</td>
<td>integer</td>
<td>No</td>
<td>The name of the redemption which will be displayed to the user</td>
</tr>
<tr>
<td>is_active</td>
<td>boolean</td>
<td>No</td>
<td>Should the redemption option be active or paused<br>(defaults to false)</td>
</tr>
<tr>
<td>allowed_redeem_points</td>
<td>number</td>
<td>No</td>
<td>The number of points to be deducted when user redeems</td>
</tr>
<tr>
<td>redemption_value</td>
<td>number</td>
<td>No</td>
<td>The monetary value associated with the redemption</td>
</tr>
<tr>
<td>giftcard_description</td>
<td>string</td>
<td>No</td>
<td>The description of the giftcard/ coupon which will be shown to the user</td>
</tr>
<tr>
<td>terms_and_conds_text</td>
<td>string</td>
<td>No</td>
<td>The terms and conditions text users have to agree to at the time of redemption</td>
</tr>
<tr>
<td>redemption_instructions</td>
<td>string</td>
<td>No</td>
<td>The redemption instructions displayed to the users</td>
</tr>
<tr>
<td>giftcard_coupon_codes</td>
<td>string</td>
<td>No</td>
<td>One time coupon codes to be issued when user redeems<br>(comma separated)</td>
</tr>
<tr>
<td>coupon_expiry</td>
<td>string</td>
<td>No</td>
<td>The expiry date of the coupons<br>(DD-MMM-YYYY)</td>
</tr>
</tbody></table>

<p><strong>Response Body</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>redemption_email_html</td>
<td>string</td>
<td>Redemption Email HTML</td>
</tr>
<tr>
<td>loyalty_redemption_card_img</td>
<td>string</td>
<td>Loyalty Redemption Card Image</td>
</tr>
<tr>
<td>created_time</td>
<td>string</td>
<td>Redemption creation time</td>
</tr>
<tr>
<td>giftcard_coupon_codes</td>
<td>string</td>
<td>Giftcard Coupons entered</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Internal ID</td>
</tr>
<tr>
<td>giftcard_description</td>
<td>string</td>
<td>Giftcard Description</td>
</tr>
<tr>
<td>terms_and_conds_text</td>
<td>string</td>
<td>Terms and Conditions</td>
</tr>
<tr>
<td>after_redemption_html</td>
<td>string</td>
<td>After redemption HTML</td>
</tr>
<tr>
<td>associated_levels</td>
<td>array</td>
<td>Levels Associated with the Redemption</td>
</tr>
<tr>
<td>send_redemption_email</td>
<td>boolean</td>
<td>Indicates whether the redemption email is to be sent or not (true/false)</td>
</tr>
<tr>
<td>redemption_value</td>
<td>number</td>
<td>Points to be deducted after redemption</td>
</tr>
<tr>
<td>coupon_expiry_trigger</td>
<td>string</td>
<td>Coupon Expiry Trigger</td>
</tr>
<tr>
<td>is_active</td>
<td>boolean</td>
<td>Indicates whether the redemption option is active or not (true/false)</td>
</tr>
<tr>
<td>enable_coupon_based_incentive</td>
<td>boolean</td>
<td>Indicates whether coupon based incentive is enabled or not (true/false)</td>
</tr>
<tr>
<td>redemption_instructions</td>
<td>string</td>
<td>Redemption instructions</td>
</tr>
<tr>
<td>redemption_email_subject</td>
<td>string</td>
<td>Redemption Email Subject</td>
</tr>
<tr>
<td>coupon_expiry</td>
<td>string</td>
<td>Coupon Expiry</td>
</tr>
<tr>
<td>merchant_id</td>
<td>string</td>
<td>Merchant ID</td>
</tr>
<tr>
<td>show_redemption_in_user_dashboard</td>
<td>boolean</td>
<td>Indicates whether the redemption option is to be shown on the user dashboard (true/false)</td>
</tr>
<tr>
<td>show_on_merchant_center</td>
<td>boolean</td>
<td>Indicates whether the redemption option is to be shown on the merchant center (true/false)</td>
</tr>
<tr>
<td>redemption_name</td>
<td>string</td>
<td>Redemption Name</td>
</tr>
<tr>
<td>coupon_expiry_delta</td>
<td>number</td>
<td>Number of days before coupon expires</td>
</tr>
<tr>
<td>allowed_redeem_points</td>
<td>string</td>
<td>Allowed Redeem points</td>
</tr>
<tr>
<td>updated_time</td>
<td>string</td>
<td>Redemption option updation time</td>
</tr>
<tr>
<td>redemption_id</td>
<td>string</td>
<td>Redemption ID</td>
</tr>
</tbody></table>

<h3 id="get-redemption">Get Redemption</h3>
<pre class="highlight shell"><code>curl -X GET --header <span class="s2">"partner-id: &lt;your-partner-id&gt;"</span> 
--header <span class="s2">"api-key: &lt;your-api-key&gt;"</span>
<span class="s2">"https://api.shopsocially.com/v2/loyalty/redemptions/{redemption_id}"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'partner-id'</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">your</span><span class="o">-</span><span class="n">partner</span><span class="o">-</span><span class="nb">id</span><span class="o">&gt;</span><span class="p">,</span> 
           <span class="s">'api-key'</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">your</span><span class="o">-</span><span class="n">api</span><span class="o">-</span><span class="n">key</span><span class="o">&gt;</span><span class="p">}</span>


<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.shopsocially.com/v2/loyalty/redemptions/{redemption_id}"</span><span class="p">,</span>
                        <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"redemption_email_html"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;div style=\"border:solid 1px rgba(0,0,0,0.2);font-family:'Source Sans Pro', 'Helvetica Neue', 'Lucida Sans', sans-serif;\"&gt;&lt;img src=\"https://d1qbqkkh49kht1.cloudfront.net/c66c2dc1d96e2ac46b9722b1a2524c10.png\" style=\"width:100%\"&gt;&lt;div style=\"text-align:left;margin-top:10px;font-size: 15px;padding:0px 30px 0px 30px\"&gt;Hi,&lt;br&gt;&lt;div style=\"margin-top: 10px;\"&gt;You have redeemed _POINTS_REDEEMED_ loyalty points from your account at &lt;a href=\"_MERCHANT_WEB_URL_\" target=\"_blank\"&gt;_MERCHANT_NAME_&lt;/a&gt;.&lt;br&gt;&lt;br&gt;&lt;a href=\"_USER_DASHBOARD_URL_\" target=\"_blank\"&gt;Click here&lt;/a&gt; to log in and check your loyalty points status and to redeem more points.&lt;/div&gt;&lt;div style=\"text-align:left;margin-top: 15px;font-size:15px;\"&gt;Thank you.&lt;br&gt;&lt;br&gt;Thanks,&lt;br&gt;_MERCHANT_NAME_ Team&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"loyalty_redemption_card_img"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d1qbqkkh49kht1.cloudfront.net/b32b7803e9bbcf6b8e9b8d8ce1be7224.png"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07-Dec-2016 12:17:02"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"giftcard_coupon_codes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a,b,c,d,e,f,g,h,i"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5847fdbeb0207a60ce2facf1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"giftcard_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"giftcard_description"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"terms_and_conds_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terms_and_conds_text"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"after_redemption_html"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;div class=\"coupon_code_div\"&gt;_COUPON_CODE_&lt;/div&gt;&lt;div style=\"margin-top: 15px;\"&gt; A copy of the code has been emailed to _USER_EMAIL_.&lt;/div&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"associated_levels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"all"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"send_redemption_email"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"redemption_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"coupon_expiry_trigger"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"enable_coupon_based_incentive"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"redemption_instructions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redemption_instructions"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"redemption_email_subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Redemption Confirmation Receipt - _MERCHANT_NAME_ Loyalty Program"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"coupon_expiry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01-Jan-2018"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"merchant_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c75d9a44221ac904ddadb81766786b34"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"show_redemption_in_user_dashboard"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"show_on_merchant_center"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"redemption_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redemption_name"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"coupon_expiry_delta"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nt">"allowed_redeem_points"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07-Dec-2016 12:17:03"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"redemption_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_redemption"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>View details about a particular redemption option using the Redemption Option ID.</p>

<p><strong>HTTP Request</strong></p>

<p><code class="prettyprint">GET  https://api.shopsocially.com/v2/loyalty/redemptions/{redemption_id}</code></p>

<p><strong>Response Body</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>redemption_email_html</td>
<td>string</td>
<td>Redemption Email HTML</td>
</tr>
<tr>
<td>loyalty_redemption_card_img</td>
<td>string</td>
<td>Loyalty Redemption Card Image</td>
</tr>
<tr>
<td>created_time</td>
<td>string</td>
<td>Redemption creation time</td>
</tr>
<tr>
<td>giftcard_coupon_codes</td>
<td>string</td>
<td>Giftcard Coupons entered</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Internal ID</td>
</tr>
<tr>
<td>giftcard_description</td>
<td>string</td>
<td>Giftcard Description</td>
</tr>
<tr>
<td>terms_and_conds_text</td>
<td>string</td>
<td>Terms and Conditions</td>
</tr>
<tr>
<td>after_redemption_html</td>
<td>string</td>
<td>After redemption HTML</td>
</tr>
<tr>
<td>associated_levels</td>
<td>array</td>
<td>Levels Associated with the Redemption</td>
</tr>
<tr>
<td>send_redemption_email</td>
<td>boolean</td>
<td>Indicates whether the redemption email is to be sent or not (true/false)</td>
</tr>
<tr>
<td>redemption_value</td>
<td>number</td>
<td>Points to be deducted after redemption</td>
</tr>
<tr>
<td>coupon_expiry_trigger</td>
<td>string</td>
<td>Coupon Expiry Trigger</td>
</tr>
<tr>
<td>is_active</td>
<td>boolean</td>
<td>Indicates whether the redemption option is active or not (true/false)</td>
</tr>
<tr>
<td>enable_coupon_based_incentive</td>
<td>boolean</td>
<td>Indicates whether coupon based incentive is enabled or not (true/false)</td>
</tr>
<tr>
<td>redemption_instructions</td>
<td>string</td>
<td>Redemption instructions</td>
</tr>
<tr>
<td>redemption_email_subject</td>
<td>string</td>
<td>Redemption Email Subject</td>
</tr>
<tr>
<td>coupon_expiry</td>
<td>string</td>
<td>Coupon Expiry</td>
</tr>
<tr>
<td>merchant_id</td>
<td>string</td>
<td>Merchant ID</td>
</tr>
<tr>
<td>show_redemption_in_user_dashboard</td>
<td>boolean</td>
<td>Indicates whether the redemption option is to be shown on the user dashboard (true/false)</td>
</tr>
<tr>
<td>show_on_merchant_center</td>
<td>boolean</td>
<td>Indicates whether the redemption option is to be shown on the merchant center (true/false)</td>
</tr>
<tr>
<td>coupon_expiry_delta</td>
<td>number</td>
<td>Number of days before coupon expires</td>
</tr>
<tr>
<td>allowed_redeem_points</td>
<td>string</td>
<td>Allowed Redeem points</td>
</tr>
<tr>
<td>updated_time</td>
<td>string</td>
<td>Redemption option updation time</td>
</tr>
<tr>
<td>redemption_id</td>
<td>string</td>
<td>Redemption ID</td>
</tr>
</tbody></table>

<h3 id="get-all-redemptions">Get All Redemptions</h3>
<pre class="highlight shell"><code>curl -X GET --header <span class="s2">"partner-id: &lt;your-partner-id&gt;"</span> 
--header <span class="s2">"api-key: &lt;your-api-key&gt;"</span> 
<span class="s2">"https://api.shopsocially.com/v2/loyalty/redemptions"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'partner-id'</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">your</span><span class="o">-</span><span class="n">partner</span><span class="o">-</span><span class="nb">id</span><span class="o">&gt;</span><span class="p">,</span> 
           <span class="s">'api-key'</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">your</span><span class="o">-</span><span class="n">api</span><span class="o">-</span><span class="n">key</span><span class="o">&gt;</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.shopsocially.com/v2/loyalty/redemptions"</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"redemption_email_html"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;div style=\"border:solid 1px rgba(0,0,0,0.2);font-family:'Source Sans Pro', 'Helvetica Neue', 'Lucida Sans', sans-serif;\"&gt;&lt;img src=\"https://d1qbqkkh49kht1.cloudfront.net/c66c2dc1d96e2ac46b9722b1a2524c10.png\" style=\"width:100%\"&gt;&lt;div style=\"text-align:left;margin-top:10px;font-size: 15px;padding:0px 30px 0px 30px\"&gt;Hi,&lt;br&gt;&lt;div style=\"margin-top: 10px;\"&gt;You have redeemed _POINTS_REDEEMED_ loyalty points from your account at &lt;a href=\"_MERCHANT_WEB_URL_\" target=\"_blank\"&gt;_MERCHANT_NAME_&lt;/a&gt;.&lt;br&gt;&lt;br&gt;&lt;a href=\"_USER_DASHBOARD_URL_\" target=\"_blank\"&gt;Click here&lt;/a&gt; to log in and check your loyalty points status and to redeem more points.&lt;/div&gt;&lt;div style=\"text-align:left;margin-top: 15px;font-size:15px;\"&gt;Thank you.&lt;br&gt;&lt;br&gt;Thanks,&lt;br&gt;_MERCHANT_NAME_ Team&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"loyalty_redemption_card_img"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d1qbqkkh49kht1.cloudfront.net/b32b7803e9bbcf6b8e9b8d8ce1be7224.png"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07-Dec-2016 12:17:02"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"giftcard_coupon_codes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a,b,c,d,e,f,g,h,i"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5847fdbeb0207a60ce2facf1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"giftcard_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"giftcard_description"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"terms_and_conds_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terms_and_conds_text"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"after_redemption_html"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;div class=\"coupon_code_div\"&gt;_COUPON_CODE_&lt;/div&gt;&lt;div style=\"margin-top: 15px;\"&gt; A copy of the code has been emailed to _USER_EMAIL_.&lt;/div&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"associated_levels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"all"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"send_redemption_email"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"redemption_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"coupon_expiry_trigger"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"enable_coupon_based_incentive"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"redemption_instructions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redemption_instructions"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"redemption_email_subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Redemption Confirmation Receipt - _MERCHANT_NAME_ Loyalty Program"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"coupon_expiry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01-Jan-2018"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"merchant_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c75d9a44221ac904ddadb81766786b34"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"show_redemption_in_user_dashboard"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"show_on_merchant_center"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"redemption_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redemption_name"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"coupon_expiry_delta"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nt">"allowed_redeem_points"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07-Dec-2016 12:17:03"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"redemption_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_redemption"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="err">...</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>View a list of all the redemption options that are currently configured.</p>

<p><strong>HTTP Request</strong></p>

<p><code class="prettyprint">GET  https://api.shopsocially.com/v2/loyalty/redemptions</code></p>

<p><strong>Response Body</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>redemption_email_html</td>
<td>string</td>
<td>Redemption Email HTML</td>
</tr>
<tr>
<td>loyalty_redemption_card_img</td>
<td>string</td>
<td>Loyalty Redemption Card Image</td>
</tr>
<tr>
<td>created_time</td>
<td>string</td>
<td>Redemption creation time</td>
</tr>
<tr>
<td>giftcard_coupon_codes</td>
<td>string</td>
<td>Giftcard Coupons entered</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Internal ID</td>
</tr>
<tr>
<td>giftcard_description</td>
<td>string</td>
<td>Giftcard Description</td>
</tr>
<tr>
<td>terms_and_conds_text</td>
<td>string</td>
<td>Terms and Conditions</td>
</tr>
<tr>
<td>after_redemption_html</td>
<td>string</td>
<td>After redemption HTML</td>
</tr>
<tr>
<td>associated_levels</td>
<td>array</td>
<td>Levels Associated with the Redemption</td>
</tr>
<tr>
<td>send_redemption_email</td>
<td>boolean</td>
<td>Indicates whether the redemption email is to be sent or not (true/false)</td>
</tr>
<tr>
<td>redemption_value</td>
<td>number</td>
<td>Points to be deducted after redemption</td>
</tr>
<tr>
<td>coupon_expiry_trigger</td>
<td>string</td>
<td>Coupon Expiry Trigger</td>
</tr>
<tr>
<td>is_active</td>
<td>boolean</td>
<td>Indicates whether the redemption option is active or not (true/false)</td>
</tr>
<tr>
<td>enable_coupon_based_incentive</td>
<td>boolean</td>
<td>Indicates whether coupon based incentive is enabled or not (true/false)</td>
</tr>
<tr>
<td>redemption_instructions</td>
<td>string</td>
<td>Redemption instructions</td>
</tr>
<tr>
<td>redemption_email_subject</td>
<td>string</td>
<td>Redemption Email Subject</td>
</tr>
<tr>
<td>coupon_expiry</td>
<td>string</td>
<td>Coupon Expiry</td>
</tr>
<tr>
<td>merchant_id</td>
<td>string</td>
<td>Merchant ID</td>
</tr>
<tr>
<td>show_redemption_in_user_dashboard</td>
<td>boolean</td>
<td>Indicates whether the redemption option is to be shown on the user dashboard (true/false)</td>
</tr>
<tr>
<td>show_on_merchant_center</td>
<td>boolean</td>
<td>Indicates whether the redemption option is to be shown on the merchant center (true/false)</td>
</tr>
<tr>
<td>coupon_expiry_delta</td>
<td>number</td>
<td>Number of days before coupon expires</td>
</tr>
<tr>
<td>allowed_redeem_points</td>
<td>string</td>
<td>Allowed Redeem points</td>
</tr>
<tr>
<td>updated_time</td>
<td>string</td>
<td>Redemption option updation time</td>
</tr>
<tr>
<td>redemption_id</td>
<td>string</td>
<td>Redemption ID</td>
</tr>
</tbody></table>

<h2 id="returns">Returns</h2>
<pre class="highlight shell"><code>curl -X POST --header <span class="s2">"partner-id: &lt;your-partner-id&gt;"</span> 
--header <span class="s2">"api-key: &lt;your-api-key&gt;"</span> 
--data <span class="s2">"order_id: &lt;order id for which the return needs to be processed&gt;"</span> 
--data <span class="s2">"returned_amount: &lt;returned_amount&gt;"</span> 
<span class="s2">"https://api.shopsocially.com/v2/loyalty/transaction/return"</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'partner-id'</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">your</span><span class="o">-</span><span class="n">partner</span><span class="o">-</span><span class="nb">id</span><span class="o">&gt;</span><span class="p">,</span> 
           <span class="s">'api-key'</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">your</span><span class="o">-</span><span class="n">api</span><span class="o">-</span><span class="n">key</span><span class="o">&gt;</span><span class="p">}</span>

<span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span><span class="s">"order_id"</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">order</span> <span class="nb">id</span> <span class="k">for</span> <span class="n">which</span> <span class="n">the</span> <span class="k">return</span> <span class="n">needs</span> <span class="n">to</span> <span class="n">be</span> <span class="n">processed</span><span class="o">&gt;</span><span class="p">,</span>
                      <span class="s">"returned_amount"</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">returned_amount</span><span class="o">&gt;</span><span class="p">})</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s">"https://api.shopsocially.com/v2/loyalty/transaction/return"</span><span class="p">,</span>
                        <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">payload</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6176be2d5e"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"user_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bob@shopsocially.com"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"user_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Baker"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"user_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bob"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54aeb7b4f283c6176be2d5ed"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"transaction_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deduct"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"points"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
          </span><span class="nt">"points_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending_deduction"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"returned_for_order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1254aeb7b4f"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Order Partially Returned"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"partner_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9c62d683db96c7cabf8db0109be6bb"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"created_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30-Mar-16 19:20:22"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"approved_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15-Apr-16 19:20:22"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"updated_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15-Apr-16 19:20:22"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"auto_approval_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15-May-16 19:20:22"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Deduct points of a user when the user returns an order.</p>

<p><strong>HTTP Request</strong></p>

<p><code class="prettyprint">POST  https://api.shopsocially.com/v2/loyalty/transaction/return</code></p>

<p><strong>Query Parameters</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>order_id</td>
<td>string</td>
<td>Yes</td>
<td>The order ID for which the return needs to be processed.</td>
</tr>
<tr>
<td>returned_amount</td>
<td>integer</td>
<td>No</td>
<td>If returned_amount is specified and is a non-zero positive number, it will be processed as a partial return. The amount will be subtracted from the actual value of the order and remaining points will be awarded.</br>If returned_amount is not passed, it will be considered as complete order return.</td>
</tr>
</tbody></table>

<p><strong>Response Body</strong></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>string</td>
<td>Unique id generated for each user</td>
</tr>
<tr>
<td>user_email</td>
<td>string</td>
<td>The person’s email address</td>
</tr>
<tr>
<td>user_last_name</td>
<td>string</td>
<td>The person’s last name</td>
</tr>
<tr>
<td>user_first_name</td>
<td>string</td>
<td>The person’s first name</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Internal id</td>
</tr>
<tr>
<td>transaction_type</td>
<td>string</td>
<td>This will always be &ldquo;deduct&rdquo;</td>
</tr>
<tr>
<td>points</td>
<td>integer</td>
<td>The number of points awarded</td>
</tr>
<tr>
<td>points_status</td>
<td>string</td>
<td>The status of the award transaction</td>
</tr>
<tr>
<td>returned_for_order_id</td>
<td>string</td>
<td>The order ID for which the return has been processed</td>
</tr>
<tr>
<td>reason</td>
<td>string</td>
<td>The reason for returning the order</td>
</tr>
<tr>
<td>partner_id</td>
<td>string</td>
<td>The id of the merchant</td>
</tr>
<tr>
<td>created_time</td>
<td>string</td>
<td>The time when the record was created</td>
</tr>
<tr>
<td>approved_time</td>
<td>string</td>
<td>The time when the record was approved</td>
</tr>
<tr>
<td>updated_time</td>
<td>string</td>
<td>The time when the record was updated</td>
</tr>
<tr>
<td>auto_approval_date</td>
<td>string</td>
<td>The date when the transaction is scheduled for auto approval</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<p>Our API returns standard HTTP success or error status codes. For errors, we will also include extra information about what went wrong encoded in the response as JSON. The various HTTP status codes we might return are listed below.</p>

<h2 id="http-status-codes">HTTP Status codes</h2>

<table><thead>
<tr>
<th>Code</th>
<th>Title</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK</td>
<td>The request was successful.</td>
</tr>
<tr>
<td>400</td>
<td>Bad Request</td>
<td>Bad request.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized</td>
<td>Your API key is invalid.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>The resource does not exist.</td>
</tr>
<tr>
<td>50X</td>
<td>Internal Server Error</td>
<td>An error occured with our API.</td>
</tr>
</tbody></table>

<h2 id="error-types">Error types</h2>

<blockquote>
<p>Example error response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"missing parameters"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>All errors are returned in the form of JSON containing the error reason.</p>

<table><thead>
<tr>
<th>Reason</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>authentication missing</td>
<td>When the authentication fields are missing from the header of the API request.</td>
</tr>
<tr>
<td>authentication failure</td>
<td>When the authentication fails due to a wrong combination of partner-id and api-key.</td>
</tr>
<tr>
<td>missing parameters</td>
<td>When the required parameters in a API request are missing.</td>
</tr>
<tr>
<td>unexpected date format</td>
<td>When the date format in the parameters for the API request is not in the required format.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">Shell</a>
                <a href="#" data-language-name="python">Python</a>
          </div>
      </div>
    </div>
  </body>
</html>
